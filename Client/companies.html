<link rel="import" href="/sys/paper-button/paper-button.html" />
<link rel="import" href="/sys/paper-dialog/paper-action-dialog.html" />
<link rel="stylesheet" href="/css/people.css" />
<template>
    <div class="people">
        <fieldset>
            <legend>
                <i class="icon-industrial-building"></i><span class="i-name">Companies</span>
            </legend>
            <table class="table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Revenue</th>
                        <th>Contacts</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <template repeat="{{Companies}}">
                        <tr>
                            <td>
                                <span>{{Organization.Name}}</span>
                            </td>
                            <td>
                                <span>{{Revenue}}</span>
                            </td>
                            <td>
                                <span>{{Contacts.length}}</span>
                            </td>
                            <td>
                                <a class="btn btn-small" href="{{Uri}}">Edit</a>
                                <button type="button" class="btn btn-small" onclick="getModel(this).Delete$++">Delete</button>
                            </td>
                        </tr>
                    </template>
                </tbody>
            </table>
        </fieldset>
    </div>
    <div class="people">
        <div class="buttons">
            <a class="btn" href="/launcher/workspace/people/companies/add">Add new company</a>
        </div>
    </div>
    <div class="people">
        <template if="{{Confirm.Message != null && Confirm.Message != ''}}">
            <div class="dialog-overlay"></div>
            <div class="dialog">
                <div class="dialog-header">Confirmation</div>
                <div class="dialog-content">{{Confirm.Message}}</div>
                <div class="dialog-actions">
                    <button type="button" class="btn btn-primary btn-small" onclick="getModel(this).Confirm.Ok$++">OK</button>
                    <button type="button" class="btn btn-small" onclick="getModel(this).Confirm.Reject$++">Cancel</button>
                </div>
            </div>
        </template>
    </div>
</template>
