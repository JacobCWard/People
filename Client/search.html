<link rel="stylesheet" href="/css/SuperCRM.css">

<template bind="{{SuperCRM}}">

     <!-- Contacts -->
    <div class="SuperCRM">

        <!-- Icon plus header -->
        <h1><i class="icon-adult"></i><span class="i-name">Contacts</span></h1>

        <!-- List of Contacts -->
        <ul>
            <template repeat="{{Contacts}}">
                    <li><a href="{{Uri}}">{{Title}} {{Person.FirstName}}  {{Person.LastName}} ({{Company.Name}})

                        <!-- TODO fix PuppetJS span in a
                        <span>{{Name$}}</span>
                        <span>{{Title$}}</span>
                        <span>Starcounter</span>
                            -->
                        </a></li>
            </template>
        </ul>
    </div>

    <!-- Companies -->
    <div class="SuperCRM">

        <!-- Icon plus header -->
        <h1><i class="icon-industrial-building"></i><span class="i-name">Companies</span></h1>

        <!-- List of Companies -->
        <ul id="companies">
            <template repeat="{{Companies}}">
                    <li><a href="{{Uri}}">{{Name}}

                        <!-- TODO fix PuppetJS span in a
                            <span>{{Name$}}</span>
                        <span>{{Contacts.length}} contacts</span>-->

                        </a></li>
            </template>
        </ul>

        <span id="more-companies" class="fake-link">+ New company...</span>

        <style>
          .fake-link:hover {
            text-decoration: underline;
            cursor: default;
          }
        </style>

        <script>
          document.getElementById('more-companies').addEventListener('click', function() {
            for (var i = 0; i < 5; i++) {
              var li = document.createElement('LI');
              li.innerHTML = '<a href="#">Fake Company</a>';
              document.getElementById('companies').appendChild(li);
            }
          });
        </script>
    </div>
</template>
