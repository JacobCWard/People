<link rel="import" href="../../vendor/polymer/polymer.html">
<link rel="import" href="../../vendor/polymer-ui-icon/polymer-ui-icon.html" />
<link rel="import" href="../../vendor/polymer-ui-icon-button/polymer-ui-icon-button.html" />
<link rel="import" href="../../vendor/polymer-ui-menu-button/polymer-ui-menu-button.html" />
<link rel="import" href="../../vendor/polymer-ui-menu-item/polymer-ui-menu-item.html" />
<link rel="import" href="../../vendor/polymer-ui-dropdown/polymer-ui-dropdown.html" />
<link rel="import" href="../../vendor/polymer-ui-field/polymer-ui-field.html">
<link rel="import" href="../../vendor/polymer-ui-toolbar/polymer-ui-toolbar.html">
<link rel="import" href="../../vendor/polymer-ui-sidebar-menu/polymer-ui-sidebar-menu.html">
<link rel="import" href="../../vendor/polymer-ui-sidebar-menu/polymer-ui-sidebar.html">
<link rel="import" href="../../vendor/polymer-ui-toggle-button/polymer-ui-toggle-button.html">

<link rel="import" href="../../vendor/polymer-flex-layout/polymer-flex-layout.html">

<polymer-element name="pj-dashboard" attributes="data search">
<template>
  <!-- <link rel="stylesheet" href="pj-dashboard.css"> -->
  <style>
    polymer-ui-toolbar polymer-ui-field{
        width:  100%;
    }
    polymer-ui-toolbar polymer-ui-field:active{
        border-color:  rgb(0, 136, 204);
    }
    polymer-ui-toolbar polymer-ui-field:focus,
    polymer-ui-toolbar polymer-ui-field:hover,
    polymer-ui-toolbar polymer-ui-field:has(:focus){
        background-color:  #fff;
    }

    :host > polymer-ui-toolbar polymer-ui-icon-button:hover ^ polymer-ui-icon {
        transition: -webkit-transform 0.33s;
        transition: transform 0.33s;
        -webkit-transform: rotate(360deg);
        transform: rotate(360deg);
    }
    polymer-ui-toggle-button{
        margin: 8px;
    }
    #menu{
        float:left;
        box-shadow: inset -8px 0px 8px -4px rgba(0, 0, 0, 0.4),
                    inset 0px 8px 8px -4px rgba(0, 0, 0, 0.4);
        height: 100%;
    }
    #filters{
        box-shadow: inset 8px 0px 8px -4px rgba(0, 0, 0, 0.4),
                    inset 0px 8px 8px -4px rgba(0, 0, 0, 0.4);
        height: 100%;
        float:right;
    }
  </style>


    <polymer-ui-toolbar>
        <polymer-ui-icon-button icon="back"></polymer-ui-icon-button>
        <polymer-ui-field>
            <polymer-ui-icon icon="search"></polymer-ui-icon>
            <input placeholder="Search" value="{{search}}"/>
        </polymer-ui-field>
        <polymer-ui-icon-button id="account" icon="account"></polymer-ui-icon-button>
    </polymer-ui-toolbar>
    <polymer-ui-dropdown id="dropdown">
        <polymer-ui-menu-item icon="settings">Settings</polymer-ui-menu-item>
        <polymer-ui-menu-item icon="close">Log out</polymer-ui-menu-item>
    </polymer-ui-dropdown>
    <polymer-ui-sidebar-menu selected="0" id="menu" label="Categories" class="column" >
        <template if="{{ data }}">
            <template repeat="{{ item, index in data.navlinks }}">
            <polymer-ui-menu-item label="{{item.desc}}"></polymer-ui-menu-item>
           </template>
        </template>
    </polymer-ui-sidebar-menu>    
    <polymer-ui-sidebar selected="0" id="filters" label="Filter" class="column"  multi="true">
        <template if="{{ data }}">
            <template repeat="{{ item, index in data.filters }}">
                <polymer-ui-field class="align-center">
                    <polymer-ui-toggle-button class="on" value="" offCaption="Hide" onCaption="Show"></polymer-ui-toggle-button>
                    <label>{{item.desc}}</label>
                </polymer-ui-field>
           </template>
        </template>
    </polymer-ui-sidebar>
    <content></content>
</template>
<script>
    Polymer('pj-dashboard', {
        data: null,

        ready: function () {
            console.info("dataChanged", this, arguments)
            this.data = this.data ||
            {
                "navlinks": [
                    {
                        "desc": "Category zero"
                    }, {
                        "desc": "Category one"
                    }, {
                        "desc": "Category two"
                    }
                ],
                "filters": [
                    {
                        "desc": "Store"
                    }, {
                        "desc": "dummyCRM"
                    }, {
                        "desc": "Skype"
                    }
                ]
            };

            this.$.account.addEventListener('tap', function () {
                this.$.dropdown.toggle();
            }.bind(this));
        }


    });
</script>
</polymer-element>

