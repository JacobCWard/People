<!doctype html>
<head>
    <title>Launcher</title>
    <script src="/vendor/fast-json-patch/src/json-patch-duplex.js"></script>
    <script src="/vendor/PuppetJs/src/puppet.js"></script>
    <script src="/vendor/platform/platform.js"></script>
    
    <link rel="import" href="/vendor/polymer/polymer.html">


    <link rel="import" href="/vendor/polymer-ui-toggle-button/polymer-ui-toggle-button.html">
    <link rel="import" href="/vendor/polymer-ui-field/polymer-ui-field.html">

    <link rel="import" href="/vendor/x-html/x-html.html">
    <link rel="import" href="/vendor/tomalec-sortable-list/src/tomalec-sortable-list.html">

    <link rel="stylesheet" href="/css/style.css">

    <!-- Import our elements -->
    <link rel="import" href="elements/dashboard/pj-dashboard.html">

</head>

<body>
    <pj-dashboard>
    <polymer-ui-field class="align-center">
        <label>Toggle sorting </label>
        <polymer-ui-toggle-button id="toggleSortable" offcaption="Locked" oncaption="Sorting"></polymer-ui-toggle-button>
    </polymer-ui-field>
    <tomalec-sortable-list disabled>
        <template id="root" bind>
            @AppsHtml@       
        </template>
    </tomalec-sortable-list>
    </pj-dashboard>
   <script>
       var puppet = new Puppet(null, function (obj) {
           var rootTemplate = document.getElementById("root");
           rootTemplate.bindingDelegate = new PolymerExpressions;
           rootTemplate.model = obj;
       });
       document.addEventListener("polymer-ready", function polymerReadyForLauncher(){
          // Consider use of `changed` event 
          document.getElementById('toggleSortable').addEventListener('click', function toggleSortable(e) {
            var list = document.querySelector('tomalec-sortable-list');
            list.disabled = this.value;// XXX: `this.value` was not yet changed so lets use it as `!this.newVal`.
          });
       });

   </script>
</body>