<!doctype html>
<head>
    <title>Launcher</title>
    <script src="/vendor/platform/platform.js"></script>
    
    <link rel="import" href="/vendor/polymer/polymer.html">


    <link rel="import" href="/vendor/polymer-ui-toggle-button/polymer-ui-toggle-button.html">
    <link rel="import" href="/vendor/polymer-ui-field/polymer-ui-field.html">

    <link rel="import" href="/vendor/puppet-js/src/puppet-js.html">
    <link rel="import" href="/vendor/imported-template/imported-template.html">
    <link rel="import" href="/vendor/model-operations/model-operations.html">
    <link rel="import" href="/vendor/juicy-tile-grid/src/juicy-tile-grid.html">
    <link rel="import" href="/vendor/juicy-tile-editor/src/juicy-tile-editor.html">
    <link rel="import" href="/vendor/warpech-display-router/warpech-display-router.html">
    <link rel="import" href="/vendor/core-localstorage/core-localstorage.html">
    <link rel="import" href="/elements/launcher-partial/launcher-partial.html">
    <link rel="import" href="/elements/launcher-partial/launcher-root-partial.html">

    <link rel="stylesheet" href="/css/style.css">

<!--    <link rel="stylesheet" href="/css/fontello.css">
    <link rel="stylesheet" href="/css/animation.css">-->

    <link rel="stylesheet" href="/css/launcher-menu.css">
    <link rel="stylesheet" href="/css/launcher-button.css">
    <link rel="stylesheet" href="/css/launcher-labeledInput.css">
    <link rel="stylesheet" href="/css/launcher-select.css">

    <script src="/vendor/css-element-queries/src/ElementQueries.js"></script>
    <script src="/vendor/css-element-queries/src/ResizeSensor.js"></script>

    <!-- Import our elements -->
    <link rel="import" href="/elements/dashboard/pj-dashboard.html">

</head>

<body>
  <template id="root" bind>
    <pj-dashboard search="{{ searchBar.query$ }}">
      <div class="pj-launcher-user">
          <template bind="{{user}}">
              <template is="imported-template" content="{{ Html }}"></template>
          </template>
      </div>
      <div id="launcher-menu">
          <ul>
              <template bind="{{ menu }}">
                  <template is="imported-template" content="{{ Html }}"></template>
              </template>
              <li><a href="/do-nothing">Do nothing</a></li>
          </ul>

      </div>
      <div id="launcher-content">
          <!-- Dashboard/results -->
          <launcher-root-partial
            class="workspace launcher" bind="{{ results }}"></launcher-root-partial>
            <!-- just "/" or whatever starting from "/launcher/.." except stuff starting from "/launcher/workspace" -->
          <warpech-display-route match-path="^\/$|(\/launcher\/(?!workspace))" display-selector=".workspace.launcher"></warpech-display-route>
                
          <!-- Workspaces -->
          <template repeat="{{ workspaces }}">
              <!-- - workspace -->
              <warpech-display-route match-path="^\/launcher\/workspace\/{{appName}}" display-selector=".workspace.{{appName}}"></warpech-display-route>
              <launcher-root-partial
                class="workspace {{appName}}" bind="{{master}}"></launcher-root-partial>
          </template>
      </div>
    </pj-dashboard>
  </template>
  <puppet-js ref="root" ignoreadd="/_setup"></puppet-js>
</body>
