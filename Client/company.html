<link rel="import" href="/People/sys/image-mask/src/image-mask.html" />
<link rel="import" href="/sys/puppet-redirect/src/puppet-redirect.html" />
<link rel="stylesheet" href="/css/people.css" />

<template>
    <form class="form-horizontal">
        <div class="control-group">
            <label class="control-label"></label>
            <div class="controls">
                <image-mask size="128" title="Company Logo" src="{{ LogoUrl$ }}">Logo here</image-mask>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Logo url:</label>
            <div class="controls">
                <input type='text' value='{{ LogoUrl$ }}' placeholder='http://placehold.it/128' />
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Name:</label>
            <div class="controls">
                <input type='text' value='{{ Organisation.Name$ }}' placeholder='Red & Black co. ltd.' />
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Annual revenue:</label>
            <div class="controls">
                <input type='text' value='{{ Revenue$ }}' placeholder='50000000' />
            </div>
        </div>
        <div class="control-group">
            <label class="control-label"></label>
            <div class="controls">
                <button type="button" class="btn btn-primary" onclick="getModel(this).Save$++">Save</button>
                <button type="button" class="btn" onclick="getModel(this).Cancel$++">Cancel</button>
                <button type="button" class="btn" onclick="getModel(this).AddContact$++">Add contact</button>
            </div>
        </div>
    </form>
    <fieldset>
        <legend>
            <i class="icon-adult"></i><span class="i-name">Contacts</span>
        </legend>
        <!--<template is="launcher-partial" repeat="{{ Contacts }}"></template>-->
        <table class="table">
            <thead>
                <tr>
                    <th>Email</th>
                    <th>First name</th>
                    <th>Last name</th>
                </tr>
            </thead>
            <tbody>
                <template repeat="{{Contacts}}">
                    <tr>
                        <td>
                            <a href="mailto:{{Email}}" target="_blank">{{Email}}</a>
                        </td>
                        <td>
                            <span>{{Person.FirstName}}</span>
                        </td>
                        <td>
                            <span>{{Person.Surname}}</span>
                        </td>
                    </tr>
                </template>
            </tbody>
        </table>
    </fieldset>
    
    <link is="puppet-redirect" history url="{{ RedirectUrl$ }}" />
</template>
