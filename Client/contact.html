<link rel="import" href="/sys/gravatar-img/gravatar-img.html">
<script src="/sys/spark-md5/spark-md5.js"></script>
<link rel="stylesheet" href="/css/SuperCRM.css">
<link rel="import" href="/sys/puppet-redirect/src/puppet-redirect.html">

<template bind="{{SuperCRM}}">

    <gravatar-img email="{{ Email$ }}" style="min-height: 32px;"></gravatar-img>

    <div class="launcher-labeled-input">
        <input id="PersonFirstName$" type='text' value='{{ Person.FirstName$ }}' placeholder='<First Name>'>
        <label for="PersonFirstName$">First Name</label>
    </div>

    <div class="launcher-labeled-input">
        <input id="PersonSurname$" type='text' value='{{ Person.Surname$ }}' placeholder='<Last Name>'>
        <label for="PersonSurname$">Last Name</label>
    </div>

    <div class="launcher-labeled-input">
        <input id="Title$" type='text' value='{{ Title$ }}' placeholder='<Title>'>
        <label for="Title$">Title</label>
    </div>

    <div class="launcher-labeled-input">
        <input id="Email$" type='text' value='{{ Email$ }}' placeholder='<Email>'>
        <label for="Email$">Email</label>
    </div>

    <template if="{{ Companies.length > 0 }}">
        <select class="launcher-select" selectedIndex="{{ SelectedCompanyIndex$ }}">
            <template repeat="{{ Companies }}">
                <option>{{ Organisation.Name }}</option>
            </template>
        </select>
    </template>
    <template if="{{ Companies.length == 0 }}">
        <strong>Please <a href="/launcher/workspace/supercrm/companies/add">Add a Company</a> before adding a Contact</strong>
    </template>

    <button class="launcher-button" style="background-color:#11653B" onclick="getModel(this).Save$ = true">Save</button>

    <link is="puppet-redirect" history url="{{ RedirectUrl$ }}">
</template>
