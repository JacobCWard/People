<link rel="stylesheet" href="/css/people.css" />
<link rel="import" href="/People/sys/gravatar-img/gravatar-img.html" />
<template>
    <div class="people">
        <fieldset>
            <legend>
                <i class="icon-adult"></i><span class="i-name">Contacts</span>
            </legend>
            <table class="table">
                <thead>
                    <tr>
                        <th>Company</th>
                        <th>Avatar</th>
                        <th>Email</th>
                        <th>First name</th>
                        <th>Last name</th>
                        <th>Title</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <template repeat="{{Contacts}}">
                        <tr>
                            <td>
                                <span>{{Company.Organisation.Name}}</span>
                            </td>
                            <td>
                                <gravatar-img email="{{Email$}}" style="min-height: 32px; max-width:32px; min-width:32px;"></gravatar-img>
                            </td>
                            <td>
                                <a href="mailto:{{Email}}" target="_blank">{{Email}}</a>
                            </td>
                            <td>
                                <span>{{Person.FirstName}}</span>
                            </td>
                            <td>
                                <span>{{Person.Surname}}</span>
                            </td>
                            <td>
                                <span>{{Title}}</span>
                            </td>
                            <td>
                                <a href="{{Uri}}" class="btn btn-small">Edit</a>
                                <button type="button" class="btn btn-small" onclick="getModel(this).Delete$++">Delete</button>
                            </td>
                        </tr>
                    </template>
                </tbody>
            </table>
            <div class="buttons">
                <a class="btn" href="/launcher/workspace/people/contacts/add">Add new contact</a>
            </div>
        </fieldset>
        <template if="{{Confirm.Message != null && Confirm.Message != ''}}">
            <div class="dialog-overlay"></div>
            <div class="dialog">
                <div class="dialog-header">Confirmation</div>
                <div class="dialog-content">{{Confirm.Message}}</div>
                <div class="dialog-actions">
                    <button type="button" class="btn btn-primary btn-small" onclick="getModel(this).Confirm.Ok$++">OK</button>
                    <button type="button" class="btn btn-small" onclick="getModel(this).Confirm.Reject$++">Cancel</button>
                </div>
            </div>
        </template>
    </div>
</template>